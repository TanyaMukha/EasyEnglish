@page "/progress-and-loading"
@using EasyEnglish.Theme.Components
@using EasyEnglish.Theme.Constants
@inject IThemeService ThemeService

<Container Type="ContainerType.Screen">
    <div class="@ThemeConstants.CssClasses.Padding.Lg">
        
        <!-- Header -->
        <div class="@ThemeConstants.CssClasses.Margin.BottomXl">
            <H1 CssClass="@ThemeConstants.CssClasses.TextPrimary @ThemeConstants.CssClasses.Margin.BottomMd">
                🧩 Components Demo
            </H1>
            <p class="@ThemeConstants.CssClasses.BodyLarge @ThemeConstants.CssClasses.TextSecondary">
                Explore the comprehensive component library provided by EasyEnglish.Theme.
            </p>
        </div>

        <!-- Progress & Loading Section -->
        <div class="@ThemeConstants.CssClasses.Margin.BottomXl">
            <H2 CssClass="@ThemeConstants.CssClasses.Margin.BottomMd">Progress & Loading</H2>
            <div class="progress-demo">
                <div class="progress-section">
                    <H3 CssClass="@ThemeConstants.CssClasses.Margin.BottomSm">Progress Bars</H3>
                    @* Label="25% Complete" *@
                    <ProgressBar Progress="25" />
                    @* Label="50% Complete" *@
                    <ProgressBar Progress="50" />
                    @* Label="75% Complete" *@
                    <ProgressBar Progress="75" />
                    @* Label="100% Complete" *@
                    <ProgressBar Progress="100" />
                </div>
                
                <div class="loading-section">
                    <H3 CssClass="@ThemeConstants.CssClasses.Margin.BottomSm">Loading States</H3>
                    <Loading Message="Loading your data..." />
                </div>
            </div>
        </div>

        <!-- Interactive Demo -->
        <div class="@ThemeConstants.CssClasses.Margin.BottomXl">
            <H2 CssClass="@ThemeConstants.CssClasses.Margin.BottomMd">Interactive Demo</H2>
            <Card Title="Component Interaction Demo">
                <div class="interactive-demo">
                    <div class="demo-controls">
                        <EasyEnglish.Theme.Components.Button Variant="ButtonVariant.Primary" OnClick="HandleDemoAction">
                            @buttonText
                        </EasyEnglish.Theme.Components.Button>
                        <EasyEnglish.Theme.Components.Button Variant="ButtonVariant.Secondary" OnClick="ToggleLoading">
                            @(isLoading ? "Stop Loading" : "Start Loading")
                        </EasyEnglish.Theme.Components.Button>
                    </div>
                    
                    @if (isLoading)
                    {
                        <div class="@ThemeConstants.CssClasses.Margin.TopMd">
                            <Loading Message="Processing your request..." />
                        </div>
                    }
                    
                    @if (!string.IsNullOrEmpty(demoMessage))
                    {
                        <div class="@ThemeConstants.CssClasses.Margin.TopMd">
                            <EasyEnglish.Theme.Components.Badge Variant="BadgeVariant.Success">@demoMessage</EasyEnglish.Theme.Components.Badge>
                        </div>
                    }
                </div>
            </Card>
        </div>

    </div>
</Container>

<style>
    .component-demo {
        border: 1px solid var(--color-border);
        border-radius: var(--border-radius-lg);
        padding: var(--spacing-lg);
    }

    .progress-section {
        margin-bottom: var(--spacing-lg);
    }

    .progress-section > * {
        margin-bottom: var(--spacing-md);
    }

    .loading-section {
        text-align: center;
    }

    .typography-demo {
        background-color: var(--color-surface);
        border: 1px solid var(--color-border);
        border-radius: var(--border-radius-lg);
        padding: var(--spacing-lg);
    }

    .typography-demo > * {
        margin-bottom: var(--spacing-md);
    }

    .interactive-demo {
        padding: var(--spacing-md);
    }

    .demo-controls {
        display: flex;
        gap: var(--spacing-md);
        margin-bottom: var(--spacing-md);
    }

    /* Responsive adjustments */
    @@media (max-width: 768px) {
        .demo-row {
            flex-direction: column;
        }
        
        .cards-demo {
            grid-template-columns: 1fr;
        }
        
        .input-row {
            grid-template-columns: 1fr;
        }
        
        .demo-controls {
            flex-direction: column;
        }
    }
</style>

@code {
    private string textValue = "";
    private string passwordValue = "";
    private string emailValue = "";
    private string numberValue = "";
    private string textareaValue = "";
    private string errorValue = "";
    
    private bool isLoading = false;
    private string demoMessage = "";
    private string buttonText = "Click Me!";
    private int clickCount = 0;

    private async Task HandleDemoAction()
    {
        clickCount++;
        buttonText = $"Clicked {clickCount} times!";
        demoMessage = $"Button clicked at {DateTime.Now:HH:mm:ss}";
        
        await Task.Delay(1000);
        demoMessage = "";
        StateHasChanged();
    }

    private void ToggleLoading()
    {
        isLoading = !isLoading;
    }
}